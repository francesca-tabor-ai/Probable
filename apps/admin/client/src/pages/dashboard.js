import { jsx as _jsx, jsxs as _jsxs, Fragment as _Fragment } from "react/jsx-runtime";
import { useDashboardStats } from "@/hooks/use-dashboard";
import { Card, CardContent, CardHeader, CardTitle } from "@/components/ui/card";
import { Rss, FileText, BookOpen, TrendingUp, Cpu, AlertCircle } from "lucide-react";
import { Area, AreaChart, ResponsiveContainer, Tooltip, XAxis, YAxis } from "recharts";
import { Skeleton } from "@/components/ui/skeleton";
// Mock data for the chart since it's not in the API
var mockTrendData = [
    { name: "Mon", stories: 4, forecasts: 2 },
    { name: "Tue", stories: 7, forecasts: 5 },
    { name: "Wed", stories: 5, forecasts: 4 },
    { name: "Thu", stories: 12, forecasts: 8 },
    { name: "Fri", stories: 18, forecasts: 12 },
    { name: "Sat", stories: 15, forecasts: 9 },
    { name: "Sun", stories: 22, forecasts: 15 },
];
export default function Dashboard() {
    var _a = useDashboardStats(), stats = _a.data, isLoading = _a.isLoading;
    if (isLoading) {
        return (_jsxs("div", { className: "p-8 space-y-6", children: [_jsx(Skeleton, { className: "h-12 w-64" }), _jsx("div", { className: "grid gap-6 md:grid-cols-2 lg:grid-cols-4", children: [1, 2, 3, 4].map(function (i) { return (_jsx(Skeleton, { className: "h-32 rounded-xl" }, i)); }) })] }));
    }
    return (_jsxs("div", { className: "p-6 md:p-10 max-w-7xl mx-auto space-y-10", children: [_jsxs("div", { className: "space-y-4", children: [_jsxs("h1", { className: "text-4xl font-black tracking-tight text-foreground sm:text-6xl", children: [_jsx("span", { className: "text-gradient", children: "Probable" }), " Dashboard"] }), _jsx("p", { className: "text-xl font-medium text-muted-foreground leading-relaxed max-w-3xl", children: "Autonomous Data Journalism & Forecasting Desk. Monitoring real-time insights with technical precision and human-friendly clarity." })] }), _jsxs("div", { className: "grid gap-6 md:grid-cols-2 lg:grid-cols-4 mb-8", children: [_jsxs(Card, { className: "glass-card hover-elevate overflow-hidden relative group", children: [_jsx("div", { className: "absolute inset-0 bg-gradient-to-br from-primary/5 to-transparent opacity-0 group-hover:opacity-100 transition-opacity" }), _jsxs(CardHeader, { className: "flex flex-row items-center justify-between space-y-0 pb-2", children: [_jsx(CardTitle, { className: "text-sm font-medium text-muted-foreground", children: "Total Stories" }), _jsx("div", { className: "w-8 h-8 rounded-full bg-primary/10 flex items-center justify-center", children: _jsx(BookOpen, { className: "h-4 w-4 text-primary" }) })] }), _jsxs(CardContent, { children: [_jsx("div", { className: "text-3xl font-bold", children: (stats === null || stats === void 0 ? void 0 : stats.totalStories) || 0 }), _jsx("p", { className: "text-xs text-muted-foreground mt-1", children: _jsxs("span", { className: "text-emerald-500 font-medium", children: [(stats === null || stats === void 0 ? void 0 : stats.publishedStories) || 0, " published"] }) })] })] }), _jsxs(Card, { className: "glass-card hover-elevate overflow-hidden relative group", children: [_jsx("div", { className: "absolute inset-0 bg-gradient-to-br from-indigo-500/5 to-transparent opacity-0 group-hover:opacity-100 transition-opacity" }), _jsxs(CardHeader, { className: "flex flex-row items-center justify-between space-y-0 pb-2", children: [_jsx(CardTitle, { className: "text-sm font-medium text-muted-foreground", children: "Active Forecasts" }), _jsx("div", { className: "w-8 h-8 rounded-full bg-indigo-500/10 flex items-center justify-center", children: _jsx(TrendingUp, { className: "h-4 w-4 text-indigo-500" }) })] }), _jsxs(CardContent, { children: [_jsx("div", { className: "text-3xl font-bold", children: (stats === null || stats === void 0 ? void 0 : stats.activeForecasts) || 0 }), _jsxs("p", { className: "text-xs text-muted-foreground mt-1", children: ["Out of ", (stats === null || stats === void 0 ? void 0 : stats.totalForecasts) || 0, " total predictions"] })] })] }), _jsxs(Card, { className: "glass-card hover-elevate overflow-hidden relative group", children: [_jsx("div", { className: "absolute inset-0 bg-gradient-to-br from-amber-500/5 to-transparent opacity-0 group-hover:opacity-100 transition-opacity" }), _jsxs(CardHeader, { className: "flex flex-row items-center justify-between space-y-0 pb-2", children: [_jsx(CardTitle, { className: "text-sm font-medium text-muted-foreground", children: "Articles Queue" }), _jsx("div", { className: "w-8 h-8 rounded-full bg-amber-500/10 flex items-center justify-center", children: _jsx(FileText, { className: "h-4 w-4 text-amber-500" }) })] }), _jsxs(CardContent, { children: [_jsx("div", { className: "text-3xl font-bold", children: (stats === null || stats === void 0 ? void 0 : stats.pendingArticles) || 0 }), _jsx("p", { className: "text-xs text-muted-foreground mt-1", children: "Awaiting processing by agents" })] })] }), _jsxs(Card, { className: "glass-card hover-elevate overflow-hidden relative group", children: [_jsx("div", { className: "absolute inset-0 bg-gradient-to-br from-emerald-500/5 to-transparent opacity-0 group-hover:opacity-100 transition-opacity" }), _jsxs(CardHeader, { className: "flex flex-row items-center justify-between space-y-0 pb-2", children: [_jsx(CardTitle, { className: "text-sm font-medium text-muted-foreground", children: "System Agents" }), _jsx("div", { className: "w-8 h-8 rounded-full bg-emerald-500/10 flex items-center justify-center", children: _jsx(Cpu, { className: "h-4 w-4 text-emerald-500" }) })] }), _jsxs(CardContent, { children: [_jsx("div", { className: "text-3xl font-bold", children: (stats === null || stats === void 0 ? void 0 : stats.agentsRunning) || 0 }), _jsx("p", { className: "text-xs text-muted-foreground mt-1 flex items-center gap-1", children: (stats === null || stats === void 0 ? void 0 : stats.agentsWithErrors) ? (_jsxs(_Fragment, { children: [_jsx(AlertCircle, { className: "w-3 h-3 text-rose-500" }), _jsxs("span", { className: "text-rose-500 font-medium", children: [stats.agentsWithErrors, " errors reported"] })] })) : (_jsx("span", { className: "text-emerald-500 font-medium", children: "All systems healthy" })) })] })] })] }), _jsxs("div", { className: "grid gap-6 md:grid-cols-7 mb-8", children: [_jsxs(Card, { className: "md:col-span-4 lg:col-span-5 glass-card shadow-sm border-border/50", children: [_jsx(CardHeader, { children: _jsx(CardTitle, { children: "Production Volume" }) }), _jsx(CardContent, { children: _jsx("div", { className: "h-[300px] w-full", children: _jsx(ResponsiveContainer, { width: "100%", height: "100%", children: _jsxs(AreaChart, { data: mockTrendData, margin: { top: 10, right: 30, left: 0, bottom: 0 }, children: [_jsxs("defs", { children: [_jsxs("linearGradient", { id: "colorStories", x1: "0", y1: "0", x2: "0", y2: "1", children: [_jsx("stop", { offset: "5%", stopColor: "hsl(var(--primary))", stopOpacity: 0.3 }), _jsx("stop", { offset: "95%", stopColor: "hsl(var(--primary))", stopOpacity: 0 })] }), _jsxs("linearGradient", { id: "colorForecasts", x1: "0", y1: "0", x2: "0", y2: "1", children: [_jsx("stop", { offset: "5%", stopColor: "#8b5cf6", stopOpacity: 0.3 }), _jsx("stop", { offset: "95%", stopColor: "#8b5cf6", stopOpacity: 0 })] })] }), _jsx(XAxis, { dataKey: "name", stroke: "hsl(var(--muted-foreground))", fontSize: 12, tickLine: false, axisLine: false }), _jsx(YAxis, { stroke: "hsl(var(--muted-foreground))", fontSize: 12, tickLine: false, axisLine: false, tickFormatter: function (value) { return "".concat(value); } }), _jsx(Tooltip, { contentStyle: { borderRadius: '8px', border: '1px solid hsl(var(--border))', backgroundColor: 'hsl(var(--card))' } }), _jsx(Area, { type: "monotone", dataKey: "stories", stroke: "hsl(var(--primary))", strokeWidth: 2, fillOpacity: 1, fill: "url(#colorStories)" }), _jsx(Area, { type: "monotone", dataKey: "forecasts", stroke: "#8b5cf6", strokeWidth: 2, fillOpacity: 1, fill: "url(#colorForecasts)" })] }) }) }) })] }), _jsxs(Card, { className: "md:col-span-3 lg:col-span-2 glass-card shadow-sm border-border/50 flex flex-col justify-between", children: [_jsx(CardHeader, { children: _jsx(CardTitle, { children: "Data Sources" }) }), _jsxs(CardContent, { className: "space-y-8", children: [_jsxs("div", { className: "space-y-2", children: [_jsxs("div", { className: "flex items-center justify-between", children: [_jsxs("span", { className: "text-sm font-medium text-muted-foreground flex items-center gap-2", children: [_jsx(Rss, { className: "w-4 h-4" }), " Active Feeds"] }), _jsx("span", { className: "font-bold", children: (stats === null || stats === void 0 ? void 0 : stats.activeFeeds) || 0 })] }), _jsx("div", { className: "h-2 bg-secondary rounded-full overflow-hidden", children: _jsx("div", { className: "h-full bg-primary", style: { width: "".concat((((stats === null || stats === void 0 ? void 0 : stats.activeFeeds) || 0) / Math.max((stats === null || stats === void 0 ? void 0 : stats.totalFeeds) || 1, 1)) * 100, "%") } }) }), _jsxs("p", { className: "text-xs text-muted-foreground text-right", children: ["of ", (stats === null || stats === void 0 ? void 0 : stats.totalFeeds) || 0, " total"] })] }), _jsxs("div", { className: "space-y-2", children: [_jsxs("div", { className: "flex items-center justify-between", children: [_jsxs("span", { className: "text-sm font-medium text-muted-foreground flex items-center gap-2", children: [_jsx(FileText, { className: "w-4 h-4" }), " Total Articles"] }), _jsx("span", { className: "font-bold", children: (stats === null || stats === void 0 ? void 0 : stats.totalArticles) || 0 })] }), _jsx("p", { className: "text-xs text-muted-foreground", children: "Indexed in database" })] })] })] })] })] }));
}
